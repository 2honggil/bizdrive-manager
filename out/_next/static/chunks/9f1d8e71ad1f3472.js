(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61801,e=>{"use strict";var t=e.i(85437),s=e.i(17082),o=e.i(88314);e.i(36180);var i=e.i(98925);e.i(51718);var a=e.i(18357);function l(){let[e,l]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),c=e=>{console.log(e),l(t=>[...t,`${new Date().toISOString()}: ${e}`])},d=async()=>{n(!0),l([]),c("ðŸ” Starting Firestore Read Test...");try{c("ðŸ“¡ Attempting to read 'users' collection...");let e=(0,i.collection)(o.db,"users");c("â³ Executing getDocs() with 10s timeout...");let t=new Promise((e,t)=>setTimeout(()=>t(Error("Timeout after 10 seconds")),1e4)),s=await Promise.race([(0,i.getDocs)(e),t]);c(`âœ… SUCCESS! Found ${s.docs.length} documents`),s.docs.forEach((e,t)=>{c(`  Document ${t+1}: ${JSON.stringify(e.data())}`)})}catch(e){c(`âŒ ERROR: ${e.code||"Unknown"}`),c(`   Message: ${e.message}`),c(`   Full error: ${JSON.stringify(e,null,2)}`)}finally{n(!1)}},m=async()=>{n(!0),c("ðŸ” Starting Firestore Write Test...");try{c("ðŸ“ Attempting to write to 'test' collection...");let e=(0,i.collection)(o.db,"test"),t=await (0,i.addDoc)(e,{message:"Test document",timestamp:new Date().toISOString()});c(`âœ… SUCCESS! Document created with ID: ${t.id}`)}catch(e){c(`âŒ ERROR: ${e.code||"Unknown"}`),c(`   Message: ${e.message}`)}finally{n(!1)}},u=async()=>{n(!0),l([]),c("ðŸ” Starting Auth + Firestore Test...");try{c("ðŸ” Logging in as hongilee@mangoslab.com..."),await (0,a.signInWithEmailAndPassword)(o.auth,"hongilee@mangoslab.com","8493jis55&"),c("âœ… Login successful!"),c("ðŸ“¡ Now attempting to read users collection...");let e=(0,i.collection)(o.db,"users"),t=(0,i.query)(e,(0,i.where)("email","==","hongilee@mangoslab.com")),s=new Promise((e,t)=>setTimeout(()=>t(Error("Timeout after 10 seconds")),1e4)),l=await Promise.race([(0,i.getDocs)(t),s]);c(`âœ… Query SUCCESS! Found ${l.docs.length} documents`),l.docs.forEach(e=>{c(`  Data: ${JSON.stringify(e.data())}`)})}catch(e){c(`âŒ ERROR: ${e.code||"Unknown"}`),c(`   Message: ${e.message}`)}finally{n(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"ðŸ”¥ Firestore Diagnostic Tool"}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsx)("button",{onClick:d,disabled:r,className:"bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Test Firestore Read (No Auth)"}),(0,t.jsx)("button",{onClick:m,disabled:r,className:"bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed ml-4",children:"Test Firestore Write"}),(0,t.jsx)("button",{onClick:u,disabled:r,className:"bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed ml-4",children:"Test Auth + Read"})]}),(0,t.jsxs)("div",{className:"bg-black/50 border border-gray-700 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"ðŸ“‹ Test Logs"}),r&&(0,t.jsx)("div",{className:"mb-4 text-yellow-400",children:"â³ Running test..."}),(0,t.jsx)("div",{className:"font-mono text-sm space-y-1 max-h-96 overflow-y-auto",children:0===e.length?(0,t.jsx)("div",{className:"text-gray-500",children:"No logs yet. Click a test button above."}):e.map((e,s)=>(0,t.jsx)("div",{className:e.includes("ERROR")?"text-red-400":e.includes("SUCCESS")?"text-green-400":"text-gray-300",children:e},s))})]}),(0,t.jsxs)("div",{className:"mt-8 bg-blue-900/30 border border-blue-700 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-bold mb-2",children:"ðŸ’¡ Instructions:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[(0,t.jsx)("li",{children:'Click "Test Firestore Read" to check if you can read data without authentication'}),(0,t.jsx)("li",{children:'Click "Test Firestore Write" to check if you can write data'}),(0,t.jsx)("li",{children:'Click "Test Auth + Read" to test authenticated read operations'}),(0,t.jsx)("li",{children:"Check the logs for detailed error messages"})]})]})]})})}e.s(["default",()=>l])}]);