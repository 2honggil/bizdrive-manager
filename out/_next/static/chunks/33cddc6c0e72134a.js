(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72517,e=>{"use strict";var t=e.i(85437);let r=(0,e.i(31344).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var s=e.i(17082);function a({isOpen:e,onClose:a,title:o,children:n,size:l="md"}){return((0,s.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:a,children:(0,t.jsxs)("div",{className:`relative w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]} bg-card border border-border rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-card border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-foreground",children:o}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-secondary rounded-lg text-muted-foreground hover:text-foreground transition-colors",children:(0,t.jsx)(r,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"p-6",children:n})]})}):null}e.s(["default",()=>a],72517)},39062,e=>{"use strict";let t=(0,e.i(31344).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],39062)},24665,e=>{"use strict";let t=(0,e.i(31344).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],24665)},45962,e=>{"use strict";var t=e.i(85437),r=e.i(17082),s=e.i(31344);let a=(0,s.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,s.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var n=e.i(39062),l=e.i(24665),d=e.i(72517),i=e.i(88314);e.i(36180);var c=e.i(98925),x=e.i(77409);function u(){let e,s,{user:u}=(0,x.useAuth)(),m=new Date(2026,0,9),[p,g]=(0,r.useState)([]),[h,b]=(0,r.useState)(!0),[f,y]=(0,r.useState)(new Date(2026,0,1)),[v,j]=(0,r.useState)("month"),[w,N]=(0,r.useState)(!1),[k,D]=(0,r.useState)(null),[C,T]=(0,r.useState)(!1),[$,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=(0,c.query)((0,c.collection)(i.db,"reservations")),t=(0,c.onSnapshot)(e,e=>{let t=[];e.forEach(e=>{t.push({...e.data(),id:e.id})}),g(t),b(!1)},e=>{console.error("Error fetching reservations:",e),q("데이터를 불러오는 중 오류가 발생했습니다. (Console 확인)"),b(!1)});return()=>t()},[]);let[M,E]=(0,r.useState)({car:"기아 쏘렌토 (195하4504)",startDate:"2026-01-09",startTime:"09:00",endDate:"2026-01-09",endTime:"10:00",purpose:"외근"}),[P,q]=(0,r.useState)(null),F=e=>{let t=`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`;E({...M,startDate:t,endDate:t}),N(!0)},Y=async()=>{if(k)try{await (0,c.deleteDoc)((0,c.doc)(i.db,"reservations",k.id)),window.dispatchEvent(new Event("reservations-changed")),T(!1),D(null),S(!1)}catch(e){console.error("Error deleting reservation: ",e),alert("삭제 중 오류가 발생했습니다.")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-foreground tracking-tight",children:"차량예약"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"팀의 일정을 한눈에 관리하고 예약하세요."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex bg-secondary/50 p-1 rounded-xl border border-border shadow-inner",children:[(0,t.jsx)("button",{onClick:()=>j("month"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${"month"===v?"bg-background text-foreground shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-background/20"}`,children:"월간"}),(0,t.jsx)("button",{onClick:()=>j("week"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${"week"===v?"bg-background text-foreground shadow-lg":"text-muted-foreground hover:text-foreground hover:bg-background/20"}`,children:"주간"})]}),(0,t.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl text-sm font-bold transition-all shadow-xl shadow-primary/30 hover:-translate-y-0.5",children:[(0,t.jsx)(n.Plus,{className:"h-4 w-4"}),"새 예약"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between bg-zinc-900/80 p-5 rounded-2xl border border-white/10 shadow-3xl backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-primary uppercase tracking-[0.2em] mb-0.5",children:"Reservation Calendar"}),(0,t.jsxs)("h2",{className:"text-2xl font-black text-foreground tracking-tighter",children:[f.getFullYear(),"년 ",f.getMonth()+1,"월"]})]}),(0,t.jsxs)("div",{className:"flex bg-secondary/30 p-1.5 rounded-xl border border-border/50 shadow-inner",children:[(0,t.jsx)("button",{onClick:()=>{let e=new Date(f);"month"===v?e.setMonth(e.getMonth()-1):e.setDate(e.getDate()-7),y(e)},className:"p-2 hover:bg-secondary hover:text-primary rounded-lg transition-all",children:(0,t.jsx)(a,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>{y(new Date(m.getFullYear(),m.getMonth(),1)),j("month")},className:"px-4 py-1 text-xs font-black text-muted-foreground hover:text-foreground transition-all uppercase tracking-tighter",children:"Today"}),(0,t.jsx)("button",{onClick:()=>{let e=new Date(f);"month"===v?e.setMonth(e.getMonth()+1):e.setDate(e.getDate()+7),y(e)},className:"p-2 hover:bg-secondary hover:text-primary rounded-lg transition-all",children:(0,t.jsx)(o,{className:"h-5 w-5"})})]})]}),"week"===v&&(0,t.jsx)("div",{className:"px-4 py-2 bg-primary/5 border border-primary/20 rounded-xl text-xs font-black text-primary uppercase tracking-wider hidden md:block",children:((e=new Date(f)).setDate(e.getDate()-e.getDay()),(s=new Date(e)).setDate(s.getDate()+6),`${e.getMonth()+1}월 ${e.getDate()}일 ~ ${s.getMonth()+1}월 ${s.getDate()}일`)})]}),(0,t.jsxs)("div",{className:"glass-card rounded-3xl border border-white/10 overflow-hidden shadow-4xl backdrop-blur-3xl bg-zinc-950/20",children:["month"===v&&(0,t.jsx)("div",{className:"grid grid-cols-7 border-b border-white/5 bg-secondary/20",children:["일","월","화","수","목","금","토"].map((e,r)=>(0,t.jsx)("div",{className:`p-4 text-center text-[10px] font-black uppercase tracking-[0.3em] ${0===r?"text-red-500":6===r?"text-blue-500":"text-muted-foreground/60"}`,children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 bg-transparent transition-all duration-500 ease-out",children:(()=>{let e=[],r=f.getFullYear(),s=f.getMonth();if("month"===v){let a=new Date(f.getFullYear(),f.getMonth()+1,0).getDate(),o=new Date(f.getFullYear(),f.getMonth(),1).getDay();for(let r=0;r<o;r++)e.push((0,t.jsx)("div",{className:"h-32 bg-secondary/5 border-b border-r border-border/50"},`empty-${r}`));for(let o=1;o<=a;o++){let a=new Date(r,s,o),l=`${r}-${(s+1).toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}`,d=p.filter(e=>e.date===l),i=9===o&&0===s&&2026===r;e.push((0,t.jsxs)("div",{onClick:()=>F(a),className:`h-32 border-b border-r border-border/50 p-2 relative group hover:bg-primary/5 transition-all cursor-pointer ${i?"bg-primary/10":"bg-transparent"}`,children:[(0,t.jsx)("div",{className:`text-xs font-bold mb-2 ${i?"text-primary":"text-muted-foreground"}`,children:o}),(0,t.jsx)("div",{className:"space-y-1",children:d.map(e=>(0,t.jsxs)("div",{onClick:t=>{t.stopPropagation(),D(e),T(!0)},className:`text-[10px] p-1 rounded-sm ${e.color} text-white truncate shadow-sm flex items-center gap-1 cursor-pointer hover:opacity-80 transition-opacity`,children:[(0,t.jsx)("span",{className:"font-bold shrink-0",children:e.startTime}),(0,t.jsx)("span",{className:"opacity-90",children:"hongilee@mangoslab.com"===e.user?"이홍길":e.user}),(0,t.jsxs)("span",{className:"opacity-70 truncate",children:["(",e.car.includes("(")?e.car.split("(")[1].split(")")[0]:e.car.split(" ")[0],")"]})]},e.id))}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),F(a)},className:"absolute bottom-2 right-2 p-1 rounded-full bg-primary text-primary-foreground opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,t.jsx)(n.Plus,{className:"h-3 w-3"})})]},l))}}else{let r=new Date(f);r.setDate(f.getDate()-f.getDay());for(let s=0;s<7;s++){let a=new Date(r);a.setDate(r.getDate()+s);let o=`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,l=p.filter(e=>e.date===o),d=9===a.getDate()&&0===a.getMonth()&&2026===a.getFullYear();e.push((0,t.jsxs)("div",{onClick:()=>F(a),className:`h-[450px] border-b border-r border-border/50 p-4 relative group hover:bg-primary/5 transition-all cursor-pointer ${d?"bg-primary/10":"bg-transparent"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider mb-1",children:["일","월","화","수","목","금","토"][a.getDay()]}),(0,t.jsx)("span",{className:`text-xl font-black w-10 h-10 flex items-center justify-center rounded-full ${d?"bg-primary text-primary-foreground shadow-lg shadow-primary/30":"text-foreground hover:bg-secondary transition-colors"}`,children:a.getDate()})]}),(0,t.jsxs)("div",{className:"space-y-2 overflow-y-auto max-h-[320px] pr-1 custom-scrollbar",children:[l.map(e=>(0,t.jsxs)("div",{onClick:t=>{t.stopPropagation(),D(e),T(!0)},className:"p-2.5 rounded-xl bg-secondary/80 border-l-4 border-primary shadow-sm hover:scale-[1.02] transition-transform cursor-pointer",children:[(0,t.jsxs)("div",{className:"text-[10px] font-bold text-primary mb-1",children:[e.startTime," - ",e.endTime]}),(0,t.jsx)("div",{className:"text-xs font-bold text-foreground truncate",children:e.car.replace("쓰렌토","쏘렌토")}),(0,t.jsxs)("div",{className:"text-[10px] text-muted-foreground mt-1 flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-1 h-1 rounded-full bg-muted-foreground"}),"hongilee@mangoslab.com"===e.user?"이홍길":e.user," 예약"]})]},e.id)),0===l.length&&(0,t.jsx)("div",{className:"h-full flex items-center justify-center pt-8 opacity-20 group-hover:opacity-40 transition-opacity",children:(0,t.jsx)(n.Plus,{className:"w-8 h-8 text-muted-foreground"})})]})]},o))}}return e})()})]}),(0,t.jsx)(d.default,{isOpen:w,onClose:()=>{N(!1),q(null)},title:"차량 예약하기",children:(0,t.jsxs)("form",{className:"space-y-5 p-1",onSubmit:e=>{e.preventDefault(),q(null);let t=new Date(`${M.startDate}T${M.startTime}`),r=new Date(`${M.endDate}T${M.endTime}`);if(r<=t)return void q("종료 시간이 시작 시간보다 빨라야 합니다.");if(p.find(e=>{if(e.car!==M.car||e.date!==M.startDate)return!1;let s=new Date(`${e.date}T${e.startTime}`);return t<new Date(`${e.date}T${e.endTime}`)&&r>s}))return void q("해당 시간대에 이미 예약이 존재합니다.");let s=["bg-indigo-600","bg-orange-500","bg-green-600","bg-blue-600","bg-purple-600"],a=s[Math.floor(Math.random()*s.length)];(0,c.addDoc)((0,c.collection)(i.db,"reservations"),{car:M.car,user:u?.name||"사용자",email:u?.email||"",purpose:M.purpose,date:M.startDate,startTime:M.startTime,endTime:M.endTime,status:"confirmed",color:a,createdAt:c.Timestamp.now()}).then(()=>{window.dispatchEvent(new Event("reservations-changed")),N(!1)}).catch(e=>{console.error("Error adding reservation: ",e),q("예약 저장 중 오류가 발생했습니다: "+e),alert("저장 실패: "+e)}),N(!1),E({car:"기아 쏘렌토 (195하4504)",startDate:"2026-01-09",startTime:"09:00",endDate:"2026-01-09",endTime:"10:00",purpose:"외근"}),q(null)},children:[P&&(0,t.jsxs)("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-xs text-red-400 font-bold flex items-center gap-2",children:[(0,t.jsx)(l.AlertCircle,{className:"h-4 w-4"}),P]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"차량 선택"}),(0,t.jsxs)("select",{required:!0,value:M.car,onChange:e=>E({...M,car:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"",children:"선택하세요"}),(0,t.jsx)("option",{children:"기아 쏘렌토 (195하4504)"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"시작 날짜"}),(0,t.jsx)("input",{type:"date",required:!0,value:M.startDate,onChange:e=>E({...M,startDate:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all [color-scheme:dark]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"시작 시간"}),(0,t.jsx)("input",{type:"time",required:!0,value:M.startTime,onChange:e=>E({...M,startTime:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all [color-scheme:dark]"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"종료 날짜"}),(0,t.jsx)("input",{type:"date",required:!0,value:M.endDate,onChange:e=>E({...M,endDate:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all [color-scheme:dark]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"종료 시간"}),(0,t.jsx)("input",{type:"time",required:!0,value:M.endTime,onChange:e=>E({...M,endTime:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all [color-scheme:dark]"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"목적"}),(0,t.jsxs)("select",{required:!0,value:M.purpose,onChange:e=>E({...M,purpose:e.target.value}),className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"외근",children:"외근"}),(0,t.jsx)("option",{value:"출장",children:"출장"}),(0,t.jsx)("option",{value:"기타",children:"기타"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6",children:[(0,t.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-6 py-3 bg-secondary/50 hover:bg-secondary text-foreground rounded-xl text-sm font-bold transition-all border border-white/5",children:"취소"}),(0,t.jsx)("button",{type:"submit",className:"px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl text-sm font-bold transition-all shadow-xl shadow-primary/30",children:"예약 완료"})]})]})}),(0,t.jsx)(d.default,{isOpen:C,onClose:()=>{T(!1),D(null),S(!1)},title:"예약 정보",children:k&&(0,t.jsxs)("div",{className:"space-y-4 p-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"차량"}),(0,t.jsx)("div",{className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground",children:k.car})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"예약자"}),(0,t.jsx)("div",{className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground",children:"hongilee@mangoslab.com"===k.user?"이홍길":k.user})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"시작 시간"}),(0,t.jsxs)("div",{className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground",children:[k.date," ",k.startTime]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"종료 시간"}),(0,t.jsxs)("div",{className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground",children:[k.date," ",k.endTime]})]})]}),k.purpose&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-black text-muted-foreground uppercase tracking-widest",children:"목적"}),(0,t.jsx)("div",{className:"w-full px-4 py-3 bg-secondary/50 border border-white/5 rounded-xl text-sm text-foreground",children:k.purpose})]}),(0,t.jsx)("div",{className:"flex justify-end gap-3 pt-6 border-t border-white/5 mt-6",children:$?(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-red-400",children:"정말 삭제하시겠습니까?"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-secondary/50 hover:bg-secondary text-foreground rounded-xl text-xs font-bold transition-all border border-white/5",children:"아니오"}),(0,t.jsx)("button",{type:"button",onClick:Y,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-red-500/20",children:"예, 삭제합니다"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>S(!0),className:"px-6 py-3 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 rounded-xl text-sm font-bold transition-all",children:"삭제"}),(0,t.jsx)("button",{type:"button",onClick:()=>{T(!1),D(null),S(!1)},className:"px-6 py-3 bg-secondary/50 hover:bg-secondary text-foreground rounded-xl text-sm font-bold transition-all border border-white/5",children:"닫기"})]})})]})})]})}e.s(["default",()=>u],45962)}]);